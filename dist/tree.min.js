/*! Tree.js v0.3.0 | (c) Bunoon 2024 | MIT License */
(function(){function C(a){a.currentView.element.innerHTML=t.empty;H(a);aa(a);ba(a);a.currentView.rows=n(a.currentView.element,"div","box-rows");N(a,a.currentView.rows,I[a.currentView.element.id]);ca(a);y.addEventListener("resize",function(){N(a,a.currentView.rows,I[a.currentView.element.id])})}function ba(a){var b=n(a.currentView.element,"div","title-bar");a.showTitle&&r(b,"div","title",a.titleText);if(1<a.currentView.categories.length&&(b=n(b,"div","controls"),a.showCategorySelector)){r(b,"button",
"back",h.backButtonText).onclick=function(){0<a.currentView.categoryIndex&&(a.currentView.categoryIndex--,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],C(a),D(a.onBackCategory,a.currentView.category))};a.currentView.categoryText=r(b,"div","category-text",a.currentView.category);if(a.showCategorySelectionDropDown){n(a.currentView.categoryText,"div","down-arrow");var f=n(a.currentView.categoryText,"div","categories-list"),e=n(f,"div","categories"),d=null,k=a.currentView.categories.length;
f.style.display="block";f.style.visibility="hidden";for(var g=0;g<k;g++){var m=da(a,e,a.currentView.categories[g]);l(d)||(d=m)}l(d)&&(e.scrollTop=d.offsetTop-e.offsetHeight/2);f.style.display="none";f.style.visibility="visible"}else a.currentView.categoryText.className+=t.space+"no-click";r(b,"button","next",h.nextButtonText).onclick=function(){a.currentView.categoryIndex<k-1&&(a.currentView.categoryIndex++,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],C(a),D(a.onNextCategory,
a.currentView.category))}}}function da(a,b,f){var e=null;b=r(b,"div","category",f);a.currentView.category!==f?b.onclick=function(){a.currentView.category=f;a.currentView.categoryIndex=a.currentView.categories.indexOf(f);C(a);D(a.onSetCategory,a.currentView.category)}:(b.className+=t.space+"category-active",e=b);return e}function N(a,b,f,e){e=l(e)?e:!1;f=ea(a,f,e);e||(b.innerHTML=t.empty);if(0===f.totalRows)e||r(b,"div","no-data",h.noDataMessage);else{var d=null,k=a.swapSizes?1:f.totalRows,g=a.maximumBoxHeight/
f.totalRows,m;for(m in f.boxesPerRow)if(f.boxesPerRow.hasOwnProperty(m)){var v=g*k;if(f.boxesPerRow.hasOwnProperty(m)){var u=n(b,"div","box-row"),E=f.boxesPerRow[m].length;!e&&!a.showBoxGaps||e&&!a.showBoxGapsForChildren?u.className+=t.space+"box-row-no-spacing":J(d)||(d=u.offsetWidth/f.largestAmountOfBoxesOnARow-a.spacing);for(var B=0;B<E;B++)fa(a,u,v,d,f.boxesPerRow[m][B],e)}a.swapSizes?k++:k--}if(a.reverseOrder)for(a=b.children,e=a.length-1;e--;)b.appendChild(a[e])}return 0<b.children.length}function fa(a,
b,f,e,d,k){var g=n(b,"div","box"),m=!1;g.id=d.id;g.style.height=a.currentView.fullScreenBoxId===d.id?a.currentView.fullScreenBoxHeight+"px":a.useDecreasingHeightsForBoxes?f+"px":a.maximumBoxHeight+"px";K(a.onBoxClick)?g.onclick=function(v){O(v);D(a.onBoxClick,d)}:g.className+=t.space+"no-click";J(e)&&(g.style.width=e+"px");p(d.backgroundColor)&&(g.style.backgroundColor=d.backgroundColor);p(d.textColor)&&(g.style.color=d.textColor);p(d.borderColor)&&(g.style.borderColor=d.borderColor);if(p(d.name)||
P(d.showValue)&&d.showValue)f=n(g,"div","box-title-bar"),r(f,"div","box-title",d.name),e=n(f,"div","box-value"),P(d.showValue)&&d.showValue&&J(d.value)&&r(e,"span",null,d.value),!k&&a.allowBoxExpanding&&(f=function(v){O(v);l(a.currentView.fullScreenBoxId)?(a.currentView.fullScreenBoxId=null,a.currentView.fullScreenBoxHeight=null):(a.currentView.fullScreenBoxId=d.id,a.currentView.fullScreenBoxHeight=b.parentNode.offsetHeight);C(a)},a.currentView.fullScreenBoxId!==d.id?(e=n(e,"div","expand"),e.onclick=
f,W(e,a,h.expandToolTipText),p(d.textColor)&&(e.style.borderColor=d.textColor)):(e=n(e,"div","contract"),e.onclick=f,W(e,a,h.contractToolTipText),p(d.textColor)&&e.style.setProperty("--tree-js-color-black",d.textColor)));p(d.description)&&a.showDescriptions&&r(g,"p","description",d.description);!k&&Q(d.children)&&0<d.children.length&&a.showChildren&&(k=n(g,"div","box-rows children"),m=N(a,k,d.children,!0));!m&&p(d.content)&&a.showContents&&r(g,"div",null,d.content)}function ca(a){var b=n(a.currentView.element,
"div","footer"),f=null,e=null,d=null,k=function(){l(f)&&(a.showChildren=f.checked);l(e)&&(a.showDescriptions=e.checked);l(d)&&(a.showContents=d.checked);C(a)};a.showChildrenToggle&&(f=R(b,h.showChildrenLabelText,a.showChildren,k)[0]);a.showDescriptionsToggle&&(e=R(b,h.showDescriptionsLabelText,a.showDescriptions,k)[0]);a.showContentsToggle&&(d=R(b,h.showContentsLabelText,a.showContents,k)[0])}function aa(a){l(a.currentView.tooltip)||(a.currentView.tooltip=n(w.body,"div","tree-js-tooltip"),a.currentView.tooltip.style.display=
"none",w.body.addEventListener("mousemove",function(){H(a)}),w.addEventListener("scroll",function(){H(a)}))}function W(a,b,f){null!==a&&(a.onmousemove=function(e){ha(e,b,f)})}function ha(a,b,f){O(a);H(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=f;b.currentView.tooltip.style.display="block";var e=b.currentView.tooltip,d=a.pageX,k=a.pageY;var g=w.documentElement;var m=(y.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(y.pageYOffset||g.scrollTop)-(g.clientTop||
0);e.style.display="block";d+e.offsetWidth>y.innerWidth?d-=e.offsetWidth:d++;k+e.offsetHeight>y.innerHeight?k-=e.offsetHeight:k++;d<m&&(d=a.pageX+1);k<g&&(k=a.pageY+1);e.style.left=d+"px";e.style.top=k+"px"},b.tooltipDelay)}function H(a){l(a.currentView.tooltip)&&(l(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function ea(a,b,f){a=ia(a,b,f);b={};var e=
f=0;if(0<a.maximum){e=1;a.boxes=a.boxes.sort(function(v,u){return u.value-v.value});for(var d=0,k=a.maximum,g=a.boxes.length;;){var m=!1;b[e]=[];k>g&&(k=g,m=!0);for(;d<k;d++)b[e].push(a.boxes[d]);f=G.max(b[e].length,f);if(m)break;else d=k,k+=a.maximum+2*e,e++}}return{boxesPerRow:b,largestAmountOfBoxesOnARow:f,totalRows:e}}function ia(a,b,f){var e=[],d=0,k=b.length;if(1<k){for(d=0;d<k;d++){var g=b[d];p(g.id)||(g.id=X());!f&&l(a.currentView.fullScreenBoxId)?g.id===a.currentView.fullScreenBoxId&&e.push(g):
!f&&p(g.category)&&p(a.currentView.category)&&a.currentView.category!==g.category||e.push(g)}b=e.length;a=a.maximumRows;for(d=b/a;1>d;)a--,d=b/a}return{maximum:G.round(d),boxes:e}}function n(a,b,f){b=b.toLowerCase();var e="text"===b;S.hasOwnProperty(b)||(S[b]=e?w.createTextNode(t.empty):w.createElement(b));b=S[b].cloneNode(!1);l(f)&&(b.className=f);a.appendChild(b);return b}function r(a,b,f,e){a=n(a,b,f);a.innerHTML=e;return a}function O(a){a.preventDefault();a.cancelBubble=!0}function R(a,b,f,e){a=
n(a,"label","checkbox");var d=n(a,"input");d.type="checkbox";l(e)&&(d.onclick=e);l(f)&&(d.checked=f);n(a,"span","check-mark");r(a,"span","text",b);return[d,a]}function l(a){return null!==a&&void 0!==a&&a!==t.empty}function L(a){return l(a)&&"object"===typeof a}function P(a){return l(a)&&"boolean"===typeof a}function p(a){return l(a)&&"string"===typeof a}function K(a){return l(a)&&"function"===typeof a}function J(a){return l(a)&&"number"===typeof a}function Q(a){return L(a)&&a instanceof Array}function D(a){K(a)&&
a.apply(null,[].slice.call(arguments,1))}function x(a,b){return p(a)?a:b}function q(a,b){return P(a)?a:b}function F(a,b){return K(a)?a:b}function M(a,b){return J(a)?a:b}function ja(a){var b=!0,f=null;try{p(a)&&(f=Y.parse(a))}catch(e){try{f=eval("("+a+")"),K(f)&&(f=f())}catch(d){h.safeMode||(console.error("Errors in object: "+e.message+", "+d.message),b=!1),f=null}}return{parsed:b,result:f}}function X(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var f=G.floor(16*G.random()).toString(16);
a.push(f)}return a.join(t.empty)}function Z(a){h=L(a)?a:{};h.safeMode=q(h.safeMode,!0);a=h;var b=h.domElementTypes,f=["*"];p(b)?(b=b.split(t.space),0===b.length&&(b=f)):b=Q(b)?b:f;a.domElementTypes=b;h.backButtonText=x(h.backButtonText,"Back");h.nextButtonText=x(h.nextButtonText,"Next");h.showChildrenLabelText=x(h.showChildrenLabelText,"Show Children");h.showDescriptionsLabelText=x(h.showDescriptionsLabelText,"Show Descriptions");h.showContentsLabelText=x(h.showContentsLabelText,"Show Contents");
h.noDataMessage=x(h.noDataMessage,"There is currently no data to view.");h.expandToolTipText=x(h.expandToolTipText,"Expand");h.contractToolTipText=x(h.contractToolTipText,"Contract")}var w=null,y=null,G=null,Y=null,h={},t={empty:"",space:" "},S={},I={};this.setConfiguration=function(a){for(var b in a)a.hasOwnProperty(b)&&(h[b]=a[b]);Z(h);return this};this.getVersion=function(){return"0.3.0"};(function(a,b,f,e){w=a;y=b;G=f;Y=e;Z();w.addEventListener("DOMContentLoaded",function(){for(var d=h.domElementTypes,
k=d.length,g=0;g<k;g++){var m=w.getElementsByTagName(d[g]);m=[].slice.call(m);for(var v=m.length,u=0;u<v;u++){var E=m[u],B=!0;if(l(E)&&E.hasAttribute("data-tree-options")){var c=E.getAttribute("data-tree-options");if(p(c))if(c=ja(c),c.parsed&&L(c.result)){c=c.result;var z=c=L(c)?c:{};var A=c.data;var T=[];A=Q(A)?A:T;z.data=A;c.maximumRows=M(c.maximumRows,10);c.spacing=M(c.spacing,10);c.maximumBoxHeight=M(c.maximumBoxHeight,200);c.reverseOrder=q(c.reverseOrder,!1);c.showBoxGaps=q(c.showBoxGaps,!0);
c.swapSizes=q(c.swapSizes,!1);c.showBoxGapsForChildren=q(c.showBoxGapsForChildren,!1);c.allowBoxExpanding=q(c.allowBoxExpanding,!0);c.showTitle=q(c.showTitle,!0);c.showChildren=q(c.showChildren,!0);c.showDescriptions=q(c.showDescriptions,!0);c.showContents=q(c.showContents,!0);c.tooltipDelay=M(c.tooltipDelay,750);c.showChildrenToggle=q(c.showChildrenToggle,!0);c.showDescriptionsToggle=q(c.showDescriptionsToggle,!0);c.showContentsToggle=q(c.showContentsToggle,!0);c.showCategorySelector=q(c.showCategorySelector,
!0);c.showCategorySelectionDropDown=q(c.showCategorySelectionDropDown,!0);c.useDecreasingHeightsForBoxes=q(c.useDecreasingHeightsForBoxes,!0);c.onBeforeRender=F(c.onBeforeRender,null);c.onRenderComplete=F(c.onRenderComplete,null);c.onBoxClick=F(c.onBoxClick,null);c.onBackCategory=F(c.onBackCategory,null);c.onNextCategory=F(c.onNextCategory,null);c.onSetCategory=F(c.onSetCategory,null);c.titleText=x(c.titleText,"Tree.js");z=c;A=[];T=z.data.length;for(var U=0;U<T;U++){var V=z.data[U];p(V.category)&&
-1===A.indexOf(V.category)&&A.push(V.category)}z=A;c.currentView={};c.currentView.element=E;c.currentView.tooltip=null;c.currentView.tooltipTimer=null;c.currentView.category=0<z.length?z[0]:null;c.currentView.categories=z;c.currentView.categoryText=null;c.currentView.categoryIndex=0;c.currentView.fullScreenBoxId=null;c.currentView.fullScreenBoxHeight=null;D(c.onBeforeRender,c.element);p(c.currentView.element.id)||(c.currentView.element.id=X());c.currentView.element.removeAttribute("data-tree-options");
c.currentView.rows=null;c.currentView.element.className="tree-js";I.hasOwnProperty(c.currentView.element.id)||(I[c.currentView.element.id]=c.data,delete c.data);C(c);D(c.onRenderComplete,c.currentView.element)}else h.safeMode||(console.error("The attribute 'data-tree-options' is not a valid object."),B=!1);else h.safeMode||(console.error("The attribute 'data-tree-options' has not been set correctly."),B=!1)}if(!B)break}}});l(y.$tree)||(y.$tree=this)})(document,window,Math,JSON)})();