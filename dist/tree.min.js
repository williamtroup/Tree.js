/*! Tree.js v0.3.0 | (c) Bunoon 2024 | MIT License */
(function(){function x(a){a.currentView.element.innerHTML=u.empty;I(a);ca(a);da(a);a.currentView.rows=p(a.currentView.element,"div","box-rows");N(a,a.currentView.rows,r[a.currentView.element.id].data);ea(a);B.addEventListener("resize",function(){N(a,a.currentView.rows,r[a.currentView.element.id].data)})}function da(a){var b=p(a.currentView.element,"div","title-bar");a.showTitle&&t(b,"div","title",a.titleText);if(1<a.currentView.categories.length&&(b=p(b,"div","controls"),a.showRefreshButton&&(t(b,
"button","refresh",h.refreshButtonText).onclick=function(){x(a);y(a.onRefresh,a.currentView.element)}),a.showCategorySelector)){t(b,"button","back",h.backButtonText).onclick=function(){W(a)};a.currentView.categoryText=t(b,"div","category-text",a.currentView.category);if(a.showCategorySelectionDropDown){p(a.currentView.categoryText,"div","down-arrow");var f=p(a.currentView.categoryText,"div","categories-list"),e=p(f,"div","categories"),d=null,k=a.currentView.categories.length;f.style.display="block";
f.style.visibility="hidden";for(var g=0;g<k;g++){var m=fa(a,e,a.currentView.categories[g]);l(d)||(d=m)}l(d)&&(e.scrollTop=d.offsetTop-e.offsetHeight/2);f.style.display="none";f.style.visibility="visible"}else a.currentView.categoryText.className+=u.space+"no-click";t(b,"button","next",h.nextButtonText).onclick=function(){X(a)}}}function fa(a,b,f){var e=null;b=t(b,"div","category",f);a.currentView.category!==f?b.onclick=function(){a.currentView.category=f;a.currentView.categoryIndex=a.currentView.categories.indexOf(f);
x(a);y(a.onSetCategory,a.currentView.category)}:(b.className+=u.space+"category-active",e=b);return e}function W(a){0<a.currentView.categoryIndex&&(a.currentView.categoryIndex--,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],x(a),y(a.onBackCategory,a.currentView.category))}function X(a){a.currentView.categoryIndex<a.currentView.categories.length-1&&(a.currentView.categoryIndex++,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],x(a),y(a.onNextCategory,
a.currentView.category))}function N(a,b,f,e){e=l(e)?e:!1;f=ha(a,f,e);e||(b.innerHTML=u.empty);if(0===f.totalRows)e||t(b,"div","no-data",h.noDataMessage);else{var d=null,k=a.swapSizes?1:f.totalRows,g=a.maximumBoxHeight/f.totalRows,m;for(m in f.boxesPerRow)if(f.boxesPerRow.hasOwnProperty(m)){var z=g*k;if(f.boxesPerRow.hasOwnProperty(m)){var v=p(b,"div","box-row"),G=f.boxesPerRow[m].length;!e&&!a.showBoxGaps||e&&!a.showBoxGapsForChildren?v.className+=u.space+"box-row-no-spacing":J(d)||(d=v.offsetWidth/
f.largestAmountOfBoxesOnARow-a.spacing);for(var E=0;E<G;E++)ia(a,v,z,d,f.boxesPerRow[m][E],e)}a.swapSizes?k++:k--}if(a.reverseOrder)for(a=b.children,e=a.length-1;e--;)b.appendChild(a[e])}return 0<b.children.length}function ia(a,b,f,e,d,k){var g=p(b,"div","box"),m=!1;g.id=d.id;g.style.height=a.currentView.fullScreenBoxId===d.id?a.currentView.fullScreenBoxHeight+"px":a.useDecreasingHeightsForBoxes?f+"px":a.maximumBoxHeight+"px";K(a.onBoxClick)?g.onclick=function(z){O(z);y(a.onBoxClick,d)}:g.className+=
u.space+"no-click";J(e)&&(g.style.width=e+"px");n(d.backgroundColor)&&(g.style.backgroundColor=d.backgroundColor);n(d.textColor)&&(g.style.color=d.textColor);n(d.borderColor)&&(g.style.borderColor=d.borderColor);if(n(d.name)||P(d.showValue)&&d.showValue)f=p(g,"div","box-title-bar"),t(f,"div","box-title",d.name),e=p(f,"div","box-value"),P(d.showValue)&&d.showValue&&J(d.value)&&t(e,"span",null,d.value),!k&&a.allowBoxExpanding&&(f=function(z){O(z);l(a.currentView.fullScreenBoxId)?(a.currentView.fullScreenBoxId=
null,a.currentView.fullScreenBoxHeight=null):(a.currentView.fullScreenBoxId=d.id,a.currentView.fullScreenBoxHeight=b.parentNode.offsetHeight);x(a)},a.currentView.fullScreenBoxId!==d.id?(e=p(e,"div","expand"),e.onclick=f,Y(e,a,h.expandToolTipText),n(d.textColor)&&(e.style.borderColor=d.textColor)):(e=p(e,"div","contract"),e.onclick=f,Y(e,a,h.contractToolTipText),n(d.textColor)&&e.style.setProperty("--tree-js-color-black",d.textColor)));n(d.description)&&a.showDescriptions&&t(g,"p","description",d.description);
!k&&Q(d.children)&&0<d.children.length&&a.showChildren&&(k=p(g,"div","box-rows children"),m=N(a,k,d.children,!0));!m&&n(d.content)&&a.showContents&&t(g,"div",null,d.content)}function ea(a){var b=p(a.currentView.element,"div","footer"),f=null,e=null,d=null,k=function(){l(f)&&(a.showChildren=f.checked);l(e)&&(a.showDescriptions=e.checked);l(d)&&(a.showContents=d.checked);x(a)};a.showChildrenToggle&&(f=R(b,h.showChildrenLabelText,a.showChildren,k)[0]);a.showDescriptionsToggle&&(e=R(b,h.showDescriptionsLabelText,
a.showDescriptions,k)[0]);a.showContentsToggle&&(d=R(b,h.showContentsLabelText,a.showContents,k)[0])}function ca(a){l(a.currentView.tooltip)||(a.currentView.tooltip=p(A.body,"div","tree-js-tooltip"),a.currentView.tooltip.style.display="none",A.body.addEventListener("mousemove",function(){I(a)}),A.addEventListener("scroll",function(){I(a)}))}function Y(a,b,f){null!==a&&(a.onmousemove=function(e){ja(e,b,f)})}function ja(a,b,f){O(a);I(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=
f;b.currentView.tooltip.style.display="block";var e=b.currentView.tooltip,d=a.pageX,k=a.pageY;var g=A.documentElement;var m=(B.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(B.pageYOffset||g.scrollTop)-(g.clientTop||0);e.style.display="block";d+e.offsetWidth>B.innerWidth?d-=e.offsetWidth:d++;k+e.offsetHeight>B.innerHeight?k-=e.offsetHeight:k++;d<m&&(d=a.pageX+1);k<g&&(k=a.pageY+1);e.style.left=d+"px";e.style.top=k+"px"},b.tooltipDelay)}function I(a){l(a.currentView.tooltip)&&(l(a.currentView.tooltipTimer)&&
(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function ha(a,b,f){a=ka(a,b,f);b={};var e=f=0;if(0<a.maximum){e=1;a.boxes=a.boxes.sort(function(z,v){return v.value-z.value});for(var d=0,k=a.maximum,g=a.boxes.length;;){var m=!1;b[e]=[];k>g&&(k=g,m=!0);for(;d<k;d++)b[e].push(a.boxes[d]);f=H.max(b[e].length,f);if(m)break;else d=k,k+=a.maximum+2*e,e++}}return{boxesPerRow:b,largestAmountOfBoxesOnARow:f,
totalRows:e}}function ka(a,b,f){var e=[],d=0,k=b.length;if(1<k){for(d=0;d<k;d++){var g=b[d];n(g.id)||(g.id=Z());!f&&l(a.currentView.fullScreenBoxId)?g.id===a.currentView.fullScreenBoxId&&e.push(g):!f&&n(g.category)&&n(a.currentView.category)&&a.currentView.category!==g.category||e.push(g)}b=e.length;a=a.maximumRows;for(d=b/a;1>d;)a--,d=b/a}return{maximum:H.round(d),boxes:e}}function p(a,b,f){b=b.toLowerCase();var e="text"===b;S.hasOwnProperty(b)||(S[b]=e?A.createTextNode(u.empty):A.createElement(b));
b=S[b].cloneNode(!1);l(f)&&(b.className=f);a.appendChild(b);return b}function t(a,b,f,e){a=p(a,b,f);a.innerHTML=e;return a}function O(a){a.preventDefault();a.cancelBubble=!0}function R(a,b,f,e){a=p(a,"label","checkbox");var d=p(a,"input");d.type="checkbox";l(e)&&(d.onclick=e);l(f)&&(d.checked=f);p(a,"span","check-mark");t(a,"span","text",b);return[d,a]}function l(a){return null!==a&&void 0!==a&&a!==u.empty}function L(a){return l(a)&&"object"===typeof a}function P(a){return l(a)&&"boolean"===typeof a}
function n(a){return l(a)&&"string"===typeof a}function K(a){return l(a)&&"function"===typeof a}function J(a){return l(a)&&"number"===typeof a}function Q(a){return L(a)&&a instanceof Array}function y(a){K(a)&&a.apply(null,[].slice.call(arguments,1))}function w(a,b){return n(a)?a:b}function q(a,b){return P(a)?a:b}function F(a,b){return K(a)?a:b}function M(a,b){return J(a)?a:b}function la(a){var b=!0,f=null;try{n(a)&&(f=aa.parse(a))}catch(e){try{f=eval("("+a+")"),K(f)&&(f=f())}catch(d){h.safeMode||
(console.error("Errors in object: "+e.message+", "+d.message),b=!1),f=null}}return{parsed:b,result:f}}function Z(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var f=H.floor(16*H.random()).toString(16);a.push(f)}return a.join(u.empty)}function ba(a){h=L(a)?a:{};h.safeMode=q(h.safeMode,!0);a=h;var b=h.domElementTypes,f=["*"];n(b)?(b=b.split(u.space),0===b.length&&(b=f)):b=Q(b)?b:f;a.domElementTypes=b;h.backButtonText=w(h.backButtonText,"Back");h.nextButtonText=w(h.nextButtonText,
"Next");h.showChildrenLabelText=w(h.showChildrenLabelText,"Show Children");h.showDescriptionsLabelText=w(h.showDescriptionsLabelText,"Show Descriptions");h.showContentsLabelText=w(h.showContentsLabelText,"Show Contents");h.noDataMessage=w(h.noDataMessage,"There is currently no data to view.");h.expandToolTipText=w(h.expandToolTipText,"Expand");h.contractToolTipText=w(h.contractToolTipText,"Contract");h.refreshButtonText=w(h.refreshButtonText,"Refresh")}var A=null,B=null,H=null,aa=null,h={},u={empty:"",
space:" "},S={},r={};this.refresh=function(a){n(a)&&r.hasOwnProperty(a)&&(a=r[a].options,x(a),y(a.onRefresh,a.currentView.element));return this};this.refreshAll=function(){for(var a in r)if(r.hasOwnProperty(a)){var b=r[a].options;x(b);y(b.onRefresh,b.currentView.element)}return this};this.moveToPreviousCategory=function(a){n(a)&&r.hasOwnProperty(a)&&W(r[a].options);return this};this.moveToNextCategory=function(a){n(a)&&r.hasOwnProperty(a)&&X(r[a].options);return this};this.setConfiguration=function(a){for(var b in a)a.hasOwnProperty(b)&&
(h[b]=a[b]);ba(h);return this};this.getVersion=function(){return"0.3.0"};(function(a,b,f,e){A=a;B=b;H=f;aa=e;ba();A.addEventListener("DOMContentLoaded",function(){for(var d=h.domElementTypes,k=d.length,g=0;g<k;g++){var m=A.getElementsByTagName(d[g]);m=[].slice.call(m);for(var z=m.length,v=0;v<z;v++){var G=m[v],E=!0;if(l(G)&&G.hasAttribute("data-tree-options")){var c=G.getAttribute("data-tree-options");if(n(c))if(c=la(c),c.parsed&&L(c.result)){c=c.result;var C=c=L(c)?c:{};var D=c.data;var T=[];D=Q(D)?
D:T;C.data=D;c.maximumRows=M(c.maximumRows,10);c.spacing=M(c.spacing,10);c.maximumBoxHeight=M(c.maximumBoxHeight,200);c.reverseOrder=q(c.reverseOrder,!1);c.showBoxGaps=q(c.showBoxGaps,!0);c.swapSizes=q(c.swapSizes,!1);c.showBoxGapsForChildren=q(c.showBoxGapsForChildren,!1);c.allowBoxExpanding=q(c.allowBoxExpanding,!0);c.showTitle=q(c.showTitle,!0);c.showChildren=q(c.showChildren,!0);c.showDescriptions=q(c.showDescriptions,!0);c.showContents=q(c.showContents,!0);c.tooltipDelay=M(c.tooltipDelay,750);
c.showChildrenToggle=q(c.showChildrenToggle,!0);c.showDescriptionsToggle=q(c.showDescriptionsToggle,!0);c.showContentsToggle=q(c.showContentsToggle,!0);c.showCategorySelector=q(c.showCategorySelector,!0);c.showCategorySelectionDropDown=q(c.showCategorySelectionDropDown,!0);c.useDecreasingHeightsForBoxes=q(c.useDecreasingHeightsForBoxes,!0);c.showRefreshButton=q(c.showRefreshButton,!1);c.onBeforeRender=F(c.onBeforeRender,null);c.onRenderComplete=F(c.onRenderComplete,null);c.onBoxClick=F(c.onBoxClick,
null);c.onBackCategory=F(c.onBackCategory,null);c.onNextCategory=F(c.onNextCategory,null);c.onSetCategory=F(c.onSetCategory,null);c.onRefresh=F(c.onRefresh,null);c.titleText=w(c.titleText,"Tree.js");C=c;D=[];T=C.data.length;for(var U=0;U<T;U++){var V=C.data[U];n(V.category)&&-1===D.indexOf(V.category)&&D.push(V.category)}C=D;c.currentView={};c.currentView.element=G;c.currentView.tooltip=null;c.currentView.tooltipTimer=null;c.currentView.category=0<C.length?C[0]:null;c.currentView.categories=C;c.currentView.categoryText=
null;c.currentView.categoryIndex=0;c.currentView.fullScreenBoxId=null;c.currentView.fullScreenBoxHeight=null;y(c.onBeforeRender,c.element);n(c.currentView.element.id)||(c.currentView.element.id=Z());c.currentView.element.className="tree-js";c.currentView.element.removeAttribute("data-tree-options");c.currentView.rows=null;r.hasOwnProperty(c.currentView.element.id)||(r[c.currentView.element.id]={},r[c.currentView.element.id].options=c,r[c.currentView.element.id].data=c.data,delete c.data);x(c);y(c.onRenderComplete,
c.currentView.element)}else h.safeMode||(console.error("The attribute 'data-tree-options' is not a valid object."),E=!1);else h.safeMode||(console.error("The attribute 'data-tree-options' has not been set correctly."),E=!1)}if(!E)break}}});l(B.$tree)||(B.$tree=this)})(document,window,Math,JSON)})();