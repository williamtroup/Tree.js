/*! Tree.js v0.3.0 | (c) Bunoon 2024 | MIT License */
(function(){function D(a){a.currentView.element.innerHTML=t.empty;I(a);ca(a);da(a);a.currentView.rows=n(a.currentView.element,"div","box-rows");N(a,a.currentView.rows,u[a.currentView.element.id].data);ea(a);z.addEventListener("resize",function(){N(a,a.currentView.rows,u[a.currentView.element.id].data)})}function da(a){var b=n(a.currentView.element,"div","title-bar");a.showTitle&&r(b,"div","title",a.titleText);if(1<a.currentView.categories.length&&(b=n(b,"div","controls"),a.showCategorySelector)){r(b,
"button","back",h.backButtonText).onclick=function(){W(a)};a.currentView.categoryText=r(b,"div","category-text",a.currentView.category);if(a.showCategorySelectionDropDown){n(a.currentView.categoryText,"div","down-arrow");var f=n(a.currentView.categoryText,"div","categories-list"),e=n(f,"div","categories"),d=null,k=a.currentView.categories.length;f.style.display="block";f.style.visibility="hidden";for(var g=0;g<k;g++){var m=fa(a,e,a.currentView.categories[g]);l(d)||(d=m)}l(d)&&(e.scrollTop=d.offsetTop-
e.offsetHeight/2);f.style.display="none";f.style.visibility="visible"}else a.currentView.categoryText.className+=t.space+"no-click";r(b,"button","next",h.nextButtonText).onclick=function(){X(a)}}}function fa(a,b,f){var e=null;b=r(b,"div","category",f);a.currentView.category!==f?b.onclick=function(){a.currentView.category=f;a.currentView.categoryIndex=a.currentView.categories.indexOf(f);D(a);E(a.onSetCategory,a.currentView.category)}:(b.className+=t.space+"category-active",e=b);return e}function W(a){0<
a.currentView.categoryIndex&&(a.currentView.categoryIndex--,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],D(a),E(a.onBackCategory,a.currentView.category))}function X(a){a.currentView.categoryIndex<a.currentView.categories.length-1&&(a.currentView.categoryIndex++,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],D(a),E(a.onNextCategory,a.currentView.category))}function N(a,b,f,e){e=l(e)?e:!1;f=ha(a,f,e);e||(b.innerHTML=t.empty);if(0===f.totalRows)e||
r(b,"div","no-data",h.noDataMessage);else{var d=null,k=a.swapSizes?1:f.totalRows,g=a.maximumBoxHeight/f.totalRows,m;for(m in f.boxesPerRow)if(f.boxesPerRow.hasOwnProperty(m)){var w=g*k;if(f.boxesPerRow.hasOwnProperty(m)){var v=n(b,"div","box-row"),F=f.boxesPerRow[m].length;!e&&!a.showBoxGaps||e&&!a.showBoxGapsForChildren?v.className+=t.space+"box-row-no-spacing":J(d)||(d=v.offsetWidth/f.largestAmountOfBoxesOnARow-a.spacing);for(var C=0;C<F;C++)ia(a,v,w,d,f.boxesPerRow[m][C],e)}a.swapSizes?k++:k--}if(a.reverseOrder)for(a=
b.children,e=a.length-1;e--;)b.appendChild(a[e])}return 0<b.children.length}function ia(a,b,f,e,d,k){var g=n(b,"div","box"),m=!1;g.id=d.id;g.style.height=a.currentView.fullScreenBoxId===d.id?a.currentView.fullScreenBoxHeight+"px":a.useDecreasingHeightsForBoxes?f+"px":a.maximumBoxHeight+"px";K(a.onBoxClick)?g.onclick=function(w){O(w);E(a.onBoxClick,d)}:g.className+=t.space+"no-click";J(e)&&(g.style.width=e+"px");p(d.backgroundColor)&&(g.style.backgroundColor=d.backgroundColor);p(d.textColor)&&(g.style.color=
d.textColor);p(d.borderColor)&&(g.style.borderColor=d.borderColor);if(p(d.name)||P(d.showValue)&&d.showValue)f=n(g,"div","box-title-bar"),r(f,"div","box-title",d.name),e=n(f,"div","box-value"),P(d.showValue)&&d.showValue&&J(d.value)&&r(e,"span",null,d.value),!k&&a.allowBoxExpanding&&(f=function(w){O(w);l(a.currentView.fullScreenBoxId)?(a.currentView.fullScreenBoxId=null,a.currentView.fullScreenBoxHeight=null):(a.currentView.fullScreenBoxId=d.id,a.currentView.fullScreenBoxHeight=b.parentNode.offsetHeight);
D(a)},a.currentView.fullScreenBoxId!==d.id?(e=n(e,"div","expand"),e.onclick=f,Y(e,a,h.expandToolTipText),p(d.textColor)&&(e.style.borderColor=d.textColor)):(e=n(e,"div","contract"),e.onclick=f,Y(e,a,h.contractToolTipText),p(d.textColor)&&e.style.setProperty("--tree-js-color-black",d.textColor)));p(d.description)&&a.showDescriptions&&r(g,"p","description",d.description);!k&&Q(d.children)&&0<d.children.length&&a.showChildren&&(k=n(g,"div","box-rows children"),m=N(a,k,d.children,!0));!m&&p(d.content)&&
a.showContents&&r(g,"div",null,d.content)}function ea(a){var b=n(a.currentView.element,"div","footer"),f=null,e=null,d=null,k=function(){l(f)&&(a.showChildren=f.checked);l(e)&&(a.showDescriptions=e.checked);l(d)&&(a.showContents=d.checked);D(a)};a.showChildrenToggle&&(f=R(b,h.showChildrenLabelText,a.showChildren,k)[0]);a.showDescriptionsToggle&&(e=R(b,h.showDescriptionsLabelText,a.showDescriptions,k)[0]);a.showContentsToggle&&(d=R(b,h.showContentsLabelText,a.showContents,k)[0])}function ca(a){l(a.currentView.tooltip)||
(a.currentView.tooltip=n(x.body,"div","tree-js-tooltip"),a.currentView.tooltip.style.display="none",x.body.addEventListener("mousemove",function(){I(a)}),x.addEventListener("scroll",function(){I(a)}))}function Y(a,b,f){null!==a&&(a.onmousemove=function(e){ja(e,b,f)})}function ja(a,b,f){O(a);I(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=f;b.currentView.tooltip.style.display="block";var e=b.currentView.tooltip,d=a.pageX,k=a.pageY;var g=x.documentElement;var m=
(z.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(z.pageYOffset||g.scrollTop)-(g.clientTop||0);e.style.display="block";d+e.offsetWidth>z.innerWidth?d-=e.offsetWidth:d++;k+e.offsetHeight>z.innerHeight?k-=e.offsetHeight:k++;d<m&&(d=a.pageX+1);k<g&&(k=a.pageY+1);e.style.left=d+"px";e.style.top=k+"px"},b.tooltipDelay)}function I(a){l(a.currentView.tooltip)&&(l(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&
(a.currentView.tooltip.style.display="none"))}function ha(a,b,f){a=ka(a,b,f);b={};var e=f=0;if(0<a.maximum){e=1;a.boxes=a.boxes.sort(function(w,v){return v.value-w.value});for(var d=0,k=a.maximum,g=a.boxes.length;;){var m=!1;b[e]=[];k>g&&(k=g,m=!0);for(;d<k;d++)b[e].push(a.boxes[d]);f=H.max(b[e].length,f);if(m)break;else d=k,k+=a.maximum+2*e,e++}}return{boxesPerRow:b,largestAmountOfBoxesOnARow:f,totalRows:e}}function ka(a,b,f){var e=[],d=0,k=b.length;if(1<k){for(d=0;d<k;d++){var g=b[d];p(g.id)||(g.id=
Z());!f&&l(a.currentView.fullScreenBoxId)?g.id===a.currentView.fullScreenBoxId&&e.push(g):!f&&p(g.category)&&p(a.currentView.category)&&a.currentView.category!==g.category||e.push(g)}b=e.length;a=a.maximumRows;for(d=b/a;1>d;)a--,d=b/a}return{maximum:H.round(d),boxes:e}}function n(a,b,f){b=b.toLowerCase();var e="text"===b;S.hasOwnProperty(b)||(S[b]=e?x.createTextNode(t.empty):x.createElement(b));b=S[b].cloneNode(!1);l(f)&&(b.className=f);a.appendChild(b);return b}function r(a,b,f,e){a=n(a,b,f);a.innerHTML=
e;return a}function O(a){a.preventDefault();a.cancelBubble=!0}function R(a,b,f,e){a=n(a,"label","checkbox");var d=n(a,"input");d.type="checkbox";l(e)&&(d.onclick=e);l(f)&&(d.checked=f);n(a,"span","check-mark");r(a,"span","text",b);return[d,a]}function l(a){return null!==a&&void 0!==a&&a!==t.empty}function L(a){return l(a)&&"object"===typeof a}function P(a){return l(a)&&"boolean"===typeof a}function p(a){return l(a)&&"string"===typeof a}function K(a){return l(a)&&"function"===typeof a}function J(a){return l(a)&&
"number"===typeof a}function Q(a){return L(a)&&a instanceof Array}function E(a){K(a)&&a.apply(null,[].slice.call(arguments,1))}function y(a,b){return p(a)?a:b}function q(a,b){return P(a)?a:b}function G(a,b){return K(a)?a:b}function M(a,b){return J(a)?a:b}function la(a){var b=!0,f=null;try{p(a)&&(f=aa.parse(a))}catch(e){try{f=eval("("+a+")"),K(f)&&(f=f())}catch(d){h.safeMode||(console.error("Errors in object: "+e.message+", "+d.message),b=!1),f=null}}return{parsed:b,result:f}}function Z(){for(var a=
[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var f=H.floor(16*H.random()).toString(16);a.push(f)}return a.join(t.empty)}function ba(a){h=L(a)?a:{};h.safeMode=q(h.safeMode,!0);a=h;var b=h.domElementTypes,f=["*"];p(b)?(b=b.split(t.space),0===b.length&&(b=f)):b=Q(b)?b:f;a.domElementTypes=b;h.backButtonText=y(h.backButtonText,"Back");h.nextButtonText=y(h.nextButtonText,"Next");h.showChildrenLabelText=y(h.showChildrenLabelText,"Show Children");h.showDescriptionsLabelText=y(h.showDescriptionsLabelText,
"Show Descriptions");h.showContentsLabelText=y(h.showContentsLabelText,"Show Contents");h.noDataMessage=y(h.noDataMessage,"There is currently no data to view.");h.expandToolTipText=y(h.expandToolTipText,"Expand");h.contractToolTipText=y(h.contractToolTipText,"Contract")}var x=null,z=null,H=null,aa=null,h={},t={empty:"",space:" "},S={},u={};this.moveToPreviousCategory=function(a){p(a)&&u.hasOwnProperty(a)&&W(u[a].options);return this};this.moveToNextCategory=function(a){p(a)&&u.hasOwnProperty(a)&&
X(u[a].options);return this};this.setConfiguration=function(a){for(var b in a)a.hasOwnProperty(b)&&(h[b]=a[b]);ba(h);return this};this.getVersion=function(){return"0.3.0"};(function(a,b,f,e){x=a;z=b;H=f;aa=e;ba();x.addEventListener("DOMContentLoaded",function(){for(var d=h.domElementTypes,k=d.length,g=0;g<k;g++){var m=x.getElementsByTagName(d[g]);m=[].slice.call(m);for(var w=m.length,v=0;v<w;v++){var F=m[v],C=!0;if(l(F)&&F.hasAttribute("data-tree-options")){var c=F.getAttribute("data-tree-options");
if(p(c))if(c=la(c),c.parsed&&L(c.result)){c=c.result;var A=c=L(c)?c:{};var B=c.data;var T=[];B=Q(B)?B:T;A.data=B;c.maximumRows=M(c.maximumRows,10);c.spacing=M(c.spacing,10);c.maximumBoxHeight=M(c.maximumBoxHeight,200);c.reverseOrder=q(c.reverseOrder,!1);c.showBoxGaps=q(c.showBoxGaps,!0);c.swapSizes=q(c.swapSizes,!1);c.showBoxGapsForChildren=q(c.showBoxGapsForChildren,!1);c.allowBoxExpanding=q(c.allowBoxExpanding,!0);c.showTitle=q(c.showTitle,!0);c.showChildren=q(c.showChildren,!0);c.showDescriptions=
q(c.showDescriptions,!0);c.showContents=q(c.showContents,!0);c.tooltipDelay=M(c.tooltipDelay,750);c.showChildrenToggle=q(c.showChildrenToggle,!0);c.showDescriptionsToggle=q(c.showDescriptionsToggle,!0);c.showContentsToggle=q(c.showContentsToggle,!0);c.showCategorySelector=q(c.showCategorySelector,!0);c.showCategorySelectionDropDown=q(c.showCategorySelectionDropDown,!0);c.useDecreasingHeightsForBoxes=q(c.useDecreasingHeightsForBoxes,!0);c.onBeforeRender=G(c.onBeforeRender,null);c.onRenderComplete=
G(c.onRenderComplete,null);c.onBoxClick=G(c.onBoxClick,null);c.onBackCategory=G(c.onBackCategory,null);c.onNextCategory=G(c.onNextCategory,null);c.onSetCategory=G(c.onSetCategory,null);c.titleText=y(c.titleText,"Tree.js");A=c;B=[];T=A.data.length;for(var U=0;U<T;U++){var V=A.data[U];p(V.category)&&-1===B.indexOf(V.category)&&B.push(V.category)}A=B;c.currentView={};c.currentView.element=F;c.currentView.tooltip=null;c.currentView.tooltipTimer=null;c.currentView.category=0<A.length?A[0]:null;c.currentView.categories=
A;c.currentView.categoryText=null;c.currentView.categoryIndex=0;c.currentView.fullScreenBoxId=null;c.currentView.fullScreenBoxHeight=null;E(c.onBeforeRender,c.element);p(c.currentView.element.id)||(c.currentView.element.id=Z());c.currentView.element.removeAttribute("data-tree-options");c.currentView.rows=null;c.currentView.element.className="tree-js";u.hasOwnProperty(c.currentView.element.id)||(u[c.currentView.element.id]={},u[c.currentView.element.id].options=c,u[c.currentView.element.id].data=c.data,
delete c.data);D(c);E(c.onRenderComplete,c.currentView.element)}else h.safeMode||(console.error("The attribute 'data-tree-options' is not a valid object."),C=!1);else h.safeMode||(console.error("The attribute 'data-tree-options' has not been set correctly."),C=!1)}if(!C)break}}});l(z.$tree)||(z.$tree=this)})(document,window,Math,JSON)})();