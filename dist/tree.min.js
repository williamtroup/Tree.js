/*! Tree.js v0.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function C(a){a.currentView.element.innerHTML=u.empty;H(a);aa(a);ba(a);a.currentView.rows=m(a.currentView.element,"div","box-rows");N(a,a.currentView.rows,I[a.currentView.element.id]);ca(a);y.addEventListener("resize",function(){N(a,a.currentView.rows,I[a.currentView.element.id])})}function ba(a){var b=m(a.currentView.element,"div","title-bar");a.showTitle&&q(b,"div","title",a.titleText);if(1<a.currentView.categories.length){b=m(b,"div","controls");q(b,"button","back",h.backButtonText).onclick=
function(){0<a.currentView.categoryIndex&&(a.currentView.categoryIndex--,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],C(a),D(a.onBackCategory,a.currentView.category))};a.currentView.categoryText=q(b,"div","category-text",a.currentView.category);m(a.currentView.categoryText,"div","down-arrow");var e=m(a.currentView.categoryText,"div","categories-list"),f=m(e,"div","categories"),d=null,k=a.currentView.categories.length;e.style.display="block";e.style.visibility="hidden";
for(var g=0;g<k;g++){var l=da(a,f,a.currentView.categories[g]);n(d)||(d=l)}n(d)&&(f.scrollTop=d.offsetTop-f.offsetHeight/2);e.style.display="none";e.style.visibility="visible";q(b,"button","next",h.nextButtonText).onclick=function(){a.currentView.categoryIndex<k-1&&(a.currentView.categoryIndex++,a.currentView.category=a.currentView.categories[a.currentView.categoryIndex],C(a),D(a.onNextCategory,a.currentView.category))}}}function da(a,b,e){var f=null;b=q(b,"div","category",e);a.currentView.category!==
e?b.onclick=function(){a.currentView.category=e;a.currentView.categoryIndex=a.currentView.categories.indexOf(e);C(a);D(a.onSetCategory,a.currentView.category)}:(b.className+=u.space+"category-active",f=b);return f}function N(a,b,e,f){f=n(f)?f:!1;e=ea(a,e,f);f||(b.innerHTML=u.empty);if(0===e.totalRows)f||q(b,"div","no-data",h.noDataMessage);else{var d=null,k=a.swapSizes?1:e.totalRows,g=a.maximumBoxHeight/e.totalRows,l;for(l in e.boxesPerRow)if(e.boxesPerRow.hasOwnProperty(l)){var v=g*k;if(e.boxesPerRow.hasOwnProperty(l)){var r=
m(b,"div","box-row"),E=e.boxesPerRow[l].length;!f&&!a.showBoxGaps||f&&!a.showBoxGapsForChildren?r.className+=u.space+"box-row-no-spacing":J(d)||(d=r.offsetWidth/e.largestAmountOfBoxesOnARow-a.spacing);for(var B=0;B<E;B++)fa(a,r,v,d,e.boxesPerRow[l][B],f)}a.swapSizes?k++:k--}if(a.reverseOrder)for(a=b.children,f=a.length-1;f--;)b.appendChild(a[f])}return 0<b.children.length}function fa(a,b,e,f,d,k){var g=m(b,"div","box"),l=!1;g.id=d.id;g.style.height=a.currentView.fullScreenBoxId===d.id?a.currentView.fullScreenBoxHeight+
"px":e+"px";K(a.onBoxClick)?g.onclick=function(v){O(v);D(a.onBoxClick,d)}:g.className+=u.space+"no-click";J(f)&&(g.style.width=f+"px");p(d.backgroundColor)&&(g.style.backgroundColor=d.backgroundColor);p(d.textColor)&&(g.style.color=d.textColor);p(d.borderColor)&&(g.style.borderColor=d.borderColor);if(p(d.name)||P(d.showValue)&&d.showValue)e=m(g,"div","box-title-bar"),q(e,"div","box-title",d.name),f=m(e,"div","box-value"),P(d.showValue)&&d.showValue&&J(d.value)&&q(f,"span",null,d.value),!k&&a.allowBoxExpanding&&
(e=function(v){O(v);n(a.currentView.fullScreenBoxId)?(a.currentView.fullScreenBoxId=null,a.currentView.fullScreenBoxHeight=null):(a.currentView.fullScreenBoxId=d.id,a.currentView.fullScreenBoxHeight=b.parentNode.offsetHeight);C(a)},a.currentView.fullScreenBoxId!==d.id?(f=m(f,"div","expand"),f.onclick=e,W(f,a,h.expandToolTipText),p(d.textColor)&&(f.style.borderColor=d.textColor)):(f=m(f,"div","contract"),f.onclick=e,W(f,a,h.contractToolTipText),p(d.textColor)&&f.style.setProperty("--tree-js-color-black",
d.textColor)));p(d.description)&&a.showDescriptions&&q(g,"p","description",d.description);!k&&Q(d.children)&&0<d.children.length&&a.showChildren&&(k=m(g,"div","box-rows children"),l=N(a,k,d.children,!0));!l&&p(d.content)&&a.showContents&&q(g,"div",null,d.content)}function ca(a){var b=m(a.currentView.element,"div","footer"),e=function(){a.showChildren=f.checked;a.showDescriptions=d.checked;a.showContents=k.checked;C(a)},f=R(b,h.showChildrenLabelText,a.showChildren,e)[0],d=R(b,h.showDescriptionsLabelText,
a.showDescriptions,e)[0],k=R(b,h.showContentsLabelText,a.showContents,e)[0]}function aa(a){n(a.currentView.tooltip)||(a.currentView.tooltip=m(w.body,"div","tree-js-tooltip"),a.currentView.tooltip.style.display="none",w.body.addEventListener("mousemove",function(){H(a)}),w.addEventListener("scroll",function(){H(a)}))}function W(a,b,e){null!==a&&(a.onmousemove=function(f){ha(f,b,e)})}function ha(a,b,e){O(a);H(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=e;b.currentView.tooltip.style.display=
"block";var f=b.currentView.tooltip,d=a.pageX,k=a.pageY;var g=w.documentElement;var l=(y.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(y.pageYOffset||g.scrollTop)-(g.clientTop||0);f.style.display="block";d+f.offsetWidth>y.innerWidth?d-=f.offsetWidth:d++;k+f.offsetHeight>y.innerHeight?k-=f.offsetHeight:k++;d<l&&(d=a.pageX+1);k<g&&(k=a.pageY+1);f.style.left=d+"px";f.style.top=k+"px"},b.tooltipDelay)}function H(a){n(a.currentView.tooltip)&&(n(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),
a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function ea(a,b,e){a=ia(a,b,e);b={};var f=e=0;if(0<a.maximum){f=1;a.boxes=a.boxes.sort(function(v,r){return r.value-v.value});for(var d=0,k=a.maximum,g=a.boxes.length;;){var l=!1;b[f]=[];k>g&&(k=g,l=!0);for(;d<k;d++)b[f].push(a.boxes[d]);e=G.max(b[f].length,e);if(l)break;else d=k,k+=a.maximum+2*f,f++}}return{boxesPerRow:b,largestAmountOfBoxesOnARow:e,totalRows:f}}function ia(a,
b,e){var f=[],d=0,k=b.length;if(1<k){for(d=0;d<k;d++){var g=b[d];p(g.id)||(g.id=X());!e&&n(a.currentView.fullScreenBoxId)?g.id===a.currentView.fullScreenBoxId&&f.push(g):!e&&p(g.category)&&p(a.currentView.category)&&a.currentView.category!==g.category||f.push(g)}b=f.length;a=a.maximumRows;for(d=b/a;1>d;)a--,d=b/a}return{maximum:G.round(d),boxes:f}}function m(a,b,e){b=b.toLowerCase();var f="text"===b;S.hasOwnProperty(b)||(S[b]=f?w.createTextNode(u.empty):w.createElement(b));b=S[b].cloneNode(!1);n(e)&&
(b.className=e);a.appendChild(b);return b}function q(a,b,e,f){a=m(a,b,e);a.innerHTML=f;return a}function O(a){a.preventDefault();a.cancelBubble=!0}function R(a,b,e,f){a=m(a,"label","checkbox");var d=m(a,"input");d.type="checkbox";n(f)&&(d.onclick=f);n(e)&&(d.checked=e);m(a,"span","check-mark");q(a,"span","text",b);return[d,a]}function n(a){return null!==a&&void 0!==a&&a!==u.empty}function L(a){return n(a)&&"object"===typeof a}function P(a){return n(a)&&"boolean"===typeof a}function p(a){return n(a)&&
"string"===typeof a}function K(a){return n(a)&&"function"===typeof a}function J(a){return n(a)&&"number"===typeof a}function Q(a){return L(a)&&a instanceof Array}function D(a){K(a)&&a.apply(null,[].slice.call(arguments,1))}function x(a,b){return p(a)?a:b}function t(a,b){return P(a)?a:b}function F(a,b){return K(a)?a:b}function M(a,b){return J(a)?a:b}function ja(a){var b=!0,e=null;try{p(a)&&(e=Y.parse(a))}catch(f){try{e=eval("("+a+")"),K(e)&&(e=e())}catch(d){h.safeMode||(console.error("Errors in object: "+
f.message+", "+d.message),b=!1),e=null}}return{parsed:b,result:e}}function X(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var e=G.floor(16*G.random()).toString(16);a.push(e)}return a.join(u.empty)}function Z(a){h=L(a)?a:{};h.safeMode=t(h.safeMode,!0);a=h;var b=h.domElementTypes,e=["*"];p(b)?(b=b.split(u.space),0===b.length&&(b=e)):b=Q(b)?b:e;a.domElementTypes=b;h.backButtonText=x(h.backButtonText,"Back");h.nextButtonText=x(h.nextButtonText,"Next");h.showChildrenLabelText=
x(h.showChildrenLabelText,"Show Children");h.showDescriptionsLabelText=x(h.showDescriptionsLabelText,"Show Descriptions");h.showContentsLabelText=x(h.showContentsLabelText,"Show Contents");h.noDataMessage=x(h.noDataMessage,"There is currently no data to view.");h.expandToolTipText=x(h.expandToolTipText,"Expand");h.contractToolTipText=x(h.contractToolTipText,"Contract")}var w=null,y=null,G=null,Y=null,h={},u={empty:"",space:" "},S={},I={};this.setConfiguration=function(a){for(var b in a)a.hasOwnProperty(b)&&
(h[b]=a[b]);Z(h);return this};this.getVersion=function(){return"0.2.0"};(function(a,b,e,f){w=a;y=b;G=e;Y=f;Z();w.addEventListener("DOMContentLoaded",function(){for(var d=h.domElementTypes,k=d.length,g=0;g<k;g++){var l=w.getElementsByTagName(d[g]);l=[].slice.call(l);for(var v=l.length,r=0;r<v;r++){var E=l[r],B=!0;if(n(E)&&E.hasAttribute("data-tree-options")){var c=E.getAttribute("data-tree-options");if(p(c))if(c=ja(c),c.parsed&&L(c.result)){c=c.result;var z=c=L(c)?c:{};var A=c.data;var T=[];A=Q(A)?
A:T;z.data=A;c.maximumRows=M(c.maximumRows,10);c.spacing=M(c.spacing,10);c.maximumBoxHeight=M(c.maximumBoxHeight,200);c.reverseOrder=t(c.reverseOrder,!1);c.showBoxGaps=t(c.showBoxGaps,!0);c.swapSizes=t(c.swapSizes,!1);c.showBoxGapsForChildren=t(c.showBoxGapsForChildren,!1);c.allowBoxExpanding=t(c.allowBoxExpanding,!0);c.showTitle=t(c.showTitle,!0);c.showChildren=t(c.showChildren,!0);c.showDescriptions=t(c.showDescriptions,!0);c.showContents=t(c.showContents,!0);c.tooltipDelay=M(c.tooltipDelay,750);
c.onBeforeRender=F(c.onBeforeRender,null);c.onRenderComplete=F(c.onRenderComplete,null);c.onBoxClick=F(c.onBoxClick,null);c.onBackCategory=F(c.onBackCategory,null);c.onNextCategory=F(c.onNextCategory,null);c.onSetCategory=F(c.onSetCategory,null);c.titleText=x(c.titleText,"Tree.js");z=c;A=[];T=z.data.length;for(var U=0;U<T;U++){var V=z.data[U];p(V.category)&&-1===A.indexOf(V.category)&&A.push(V.category)}z=A;c.currentView={};c.currentView.element=E;c.currentView.tooltip=null;c.currentView.tooltipTimer=
null;c.currentView.category=0<z.length?z[0]:null;c.currentView.categories=z;c.currentView.categoryText=null;c.currentView.categoryIndex=0;c.currentView.fullScreenBoxId=null;c.currentView.fullScreenBoxHeight=null;D(c.onBeforeRender,c.element);p(c.currentView.element.id)||(c.currentView.element.id=X());c.currentView.element.removeAttribute("data-tree-options");c.currentView.rows=null;c.currentView.element.className="tree-js";I.hasOwnProperty(c.currentView.element.id)||(I[c.currentView.element.id]=c.data,
delete c.data);C(c);D(c.onRenderComplete,c.currentView.element)}else h.safeMode||(console.error("The attribute 'data-tree-options' is not a valid object."),B=!1);else h.safeMode||(console.error("The attribute 'data-tree-options' has not been set correctly."),B=!1)}if(!B)break}}});n(y.$tree)||(y.$tree=this)})(document,window,Math,JSON)})();